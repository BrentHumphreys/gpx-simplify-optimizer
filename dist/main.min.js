$(function(){var a=new L.Map("map",{attributionControl:!1}).setView(L.latLng(36,-30),3);window.map=a,L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(a),L.Control.FileLayerLoad.LABEL='<i class="fa fa-folder-open"></i>';var b=L.Control.fileLayerLoad({addToMap:!0,fitBounds:!1,fileSizeLimit:8096,layerOptions:{style:style1,pointToLayer:function(a,b){return L.circle(b,10,{style:style1})}}}).addTo(a);window.Layers=[],window.currentLayer=null,b.loader.on("data:loaded",function(b){var c=new LayerOptimizer(b);a.fitBounds(c.getBounds()),c.optimize(0),c.createLayerGroup(),c.display(),window.Layers.push(c),window.currentLayer=c}).on("data:error",function(a){console.log("ERROR",a)}),function(){var a=new L.Control({position:"topleft"});return a.onAdd=function(){var a=L.DomUtil.create("div","leaflet-control-download leaflet-bar"),b=L.DomUtil.create("a","",a);return b.href="#",b.target="_blank",b.title="Download simplified file",b.innerHTML='<i class="fa fa-download"></i>',L.DomEvent.on(b,"click",L.DomEvent.stop).on(b,"click",chooseDownloadFormat),a},a}().addTo(a),function(){var a=new L.Control({position:"topleft"});return a.onAdd=function(){var a=L.DomUtil.create("div","leaflet-control-view leaflet-bar"),b=L.DomUtil.create("a","",a);return b.href="#",b.target="_blank",b.title="View simplified file",b.innerHTML='<i class="fa fa-eye"></i>',L.DomEvent.on(b,"click",L.DomEvent.stop).on(b,"click",chooseViewFormat),a},a}().addTo(a),function(){var a=new L.Control({position:"topleft"});return a.onAdd=function(a){var b=L.DomUtil.create("div","leaflet-control-erase leaflet-bar"),c=L.DomUtil.create("a","",b);return c.href="#",c.target="_blank",c.title="Clear the map",c.innerHTML='<i class="fa fa-eraser"></i>',L.DomEvent.on(c,"click",L.DomEvent.stop).on(c,"click",function(){sourceLayer.eachLayer(function(b){a.removeLayer(b)}),simplifyLayer.clearLayers()}),b},a}().addTo(a),function(){var a=new L.Control({position:"bottomleft"});return a.onAdd=function(){var a=L.DomUtil.create("div","leaflet-control-stats");return a.id="stats",a.innerHTML='<span id="nodes"></span><br /><span id="filename"></span>',filename$=$("#filename",a),nodes$=$("#nodes",a),a},a}().addTo(a),L.control.attribution({position:"topright",prefix:'<a href="http://leafletjs.com/">Leaflet</a> &bull; <a href="http://osm.org/" target="_blank">OpenStreetMap contributors</a>'}).addTo(a),$("#slider").slider({value:0,min:0,max:.1,step:5e-5,precision:8,tooltip:"hide"}).on("slide",function(a){window.currentLayer.optimize(a.value),window.currentLayer.display()}).parent().width("100%"),$("#helpbtn").on("click",function(){$("#modal").modal("show")});var c=new Format;c.loadAll(["GeoJSONFormat","GPXFormat","KMLFormat","MediawikiFormat"]),hljs.initHighlightingOnLoad()});